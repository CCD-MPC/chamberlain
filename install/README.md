# chamberlain install README

This installation script assumes the following:

* You have an up to date installation of the OpenShift CLI:  https://github.com/openshift/origin/releases(tested with 3.11)

* You are currently logged into the OpenShift project in which you intend to deploy this system.

* You have a config file located at $HOME/.kube/config containing a valid token. 
This file is automatically generated upon installation of the OpenShift CLI, 
so it shouldn't be a problem.

* Create a configuration file at `/install/conf/conf.json` with the following structure:
```json
{
  "namespace": "",
  "swift_conf":
  {
    "osAuthUrl": "",
    "osProjectDomain": "",
    "osProjectName": "",
    "username": "",
    "password": ""
  },
  "dataverse_conf":
  {
    "host": "",
    "token": ""
  }
}
```

## Installation

Optional arguments:

Add your Swift authentication details to the install:
`--swift=True`

Add your Dataverse authentication details to the install:
`--dv=True`

Add Persistent Volumes to the installation (allows tracking of running jobs)
`--vol=True`

Sometimes, the service account created by the installation lacks edit privileges. After running the installation script,
just run `oc policy add-role-to-user edit system:serviceaccount:<NAMESPACE>:cw-svc`.
 This will add the appropriate permissions.